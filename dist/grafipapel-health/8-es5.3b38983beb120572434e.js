!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{MmdM:function(t,n,s){"use strict";s.r(n),s.d(n,"UserQuizzesModule",(function(){return P}));var a,r=s("ofXK"),o=s("3Pt+"),c=s("njyG"),u=s("tyNb"),b=s("fXoL"),d=((a=function(){function t(){e(this,t)}return i(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=b.Fb({type:a,selectors:[["app-user-quizzes-detail"]],decls:2,vars:0,template:function(e,t){1&e&&(b.Qb(0,"p"),b.yc(1,"user-quizzes-detail works!"),b.Pb())},styles:[""]}),a),l=s("1kSV"),p=s("oL12"),f=s("vpgt");function h(e,t){if(1&e){var i=b.Rb();b.Qb(0,"tr"),b.Qb(1,"td"),b.yc(2),b.dc(3,"date"),b.Pb(),b.Qb(4,"td"),b.yc(5),b.Pb(),b.Qb(6,"td",18),b.Qb(7,"div",20),b.Qb(8,"button",21),b.ac("click",(function(){b.qc(i);var e=t.$implicit;return b.cc(2).view(e)})),b.Mb(9,"i",22),b.Pb(),b.Qb(10,"button",21),b.ac("click",(function(){b.qc(i);var e=t.$implicit,n=t.index;return b.cc(2).delete(e.id,n)})),b.Mb(11,"i",23),b.Pb(),b.Pb(),b.Pb(),b.Pb()}if(2&e){var n=t.$implicit;b.yb(2),b.zc(b.fc(3,2,n.date,"yyyy-MM-dd hh:mm a")),b.yb(3),b.zc(n.employeeId)}}function m(e,t){if(1&e&&(b.Qb(0,"table",17),b.Qb(1,"thead"),b.Qb(2,"tr"),b.Qb(3,"th",18),b.yc(4,"Fecha"),b.Pb(),b.Qb(5,"th",18),b.yc(6,"Nombre completo"),b.Pb(),b.Mb(7,"th",18),b.Pb(),b.Pb(),b.Qb(8,"tbody"),b.wc(9,h,12,5,"tr",19),b.Pb(),b.Pb()),2&e){var i=b.cc();b.ic("dtOptions",i.dtOptions),b.yb(9),b.ic("ngForOf",i.userQuizzes)}}var v,y,z,g=[{path:"",children:[{path:"",component:(v=function(){function t(i,n,s){e(this,t),this.modalService=i,this.appSettingsService=n,this.userQuizzesService=s,this.userQuizzes=[],this.isLoadingData=!1,this.dtOptions={info:!0,lengthChange:!1,processing:!0,searching:!1,responsive:!0,pagingType:"full_numbers",pageLength:15,dom:'<"html5buttons"B>lftip',buttons:[{extend:"copy",className:"btn-sm"},{extend:"csv",title:"Lista de registros",className:"btn-sm"},{extend:"excel",title:"Lista de registros",className:"btn-sm"},{extend:"pdf",title:"Lista de registros",className:"btn-sm"},{extend:"print",title:"Lista de registros",className:"btn-sm",customize:function(e){$(e.document.body).addClass("white-bg"),$(e.document.body).css("font-size","10px"),$(e.document.body).find("table").addClass("compact").css("font-size","inherit")}}],language:{emptyTable:"No hay datos disponibles",info:"Mostrando desde _START_ hasta _END_ de _TOTAL_ registros",infoEmpty:"Mostrando desde 0 hasta 0 de 0 registros",loadingRecords:"Cargando...",processing:"Procesando...",paginate:{first:"Ini.",last:"Fin",next:"Sig.",previous:"Ant."}},columnDefs:[{targets:0,responsivePriority:10001},{targets:1,responsivePriority:1},{targets:2,orderable:!1,responsivePriority:2}]}}return i(t,[{key:"ngOnInit",value:function(){this.loadUserQuizzes()}},{key:"view",value:function(e){var t=this.modalService.open(d);t.result.then(this.onCloseModalForm.bind(this),this.onCloseModalForm.bind(this)),t.componentInstance.employeeSelected=e}},{key:"delete",value:function(e,t){var i=this;this.userQuizzesService.delete(e).then((function(){i.userQuizzes.splice(t,1)})).catch((function(e){console.error(e)}))}},{key:"onCloseModalForm",value:function(e){if(e===Object(e))if(e.createMode)e.userQuiz.id=e.id,this.userQuizzes.unshift(e.userQuiz);else{var t=this.userQuizzes.findIndex((function(t){return t.id==e.id}));this.userQuizzes[t]=e.userQuiz}}},{key:"loadUserQuizzes",value:function(e){var t=this;this.isLoadingData=!0;var i=new Date;if(void 0!==e){var n=e.split("-");i=new Date("".concat(n[1],"/").concat(n[2],"/").concat(n[0]))}this.userQuizzesService.getByDate(i).subscribe((function(e){t.userQuizzes=[],e.docs.forEach((function(e){var i=t.userQuizzesService.setUserQuiz(e.id,e.data());t.userQuizzes.push(i)}))}),(function(e){console.error(e)}),(function(){t.isLoadingData=!1}))}}]),t}(),v.\u0275fac=function(e){return new(e||v)(b.Lb(l.b),b.Lb(p.a),b.Lb(f.a))},v.\u0275cmp=b.Fb({type:v,selectors:[["app-user-quizzes-list"]],decls:18,vars:3,consts:[[1,"container"],[1,"row","mt-3","mb-3"],[1,"col-lg-4"],[1,"form-group"],["type","date","placeholder","Fecha",1,"form-control"],["searchDatex",""],[1,"col-lg-8"],[1,"input-group"],["type","text","placeholder","Buscar",1,"form-control"],["searchText",""],[1,"input-group-append"],[1,"btn-group"],["type","button","title","Buscar",1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-search"],["type","button","title","Refrescar",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-refresh"],["class","table table-sm row-border table-hover","datatable","","style","width: 100%;",3,"dtOptions",4,"ngIf"],["datatable","",1,"table","table-sm","row-border","table-hover",2,"width","100%",3,"dtOptions"],[1,"text-center"],[4,"ngFor","ngForOf"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-default","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-file-o"],["aria-hidden","true",1,"fa","fa-trash"]],template:function(e,t){if(1&e){var i=b.Rb();b.Qb(0,"div",0),b.Qb(1,"div",1),b.Qb(2,"div",2),b.Qb(3,"div",3),b.Mb(4,"input",4,5),b.Pb(),b.Pb(),b.Qb(6,"div",6),b.Qb(7,"div",3),b.Qb(8,"div",7),b.Mb(9,"input",8,9),b.Qb(11,"span",10),b.Qb(12,"div",11),b.Qb(13,"button",12),b.ac("click",(function(){b.qc(i);var e=b.pc(5);return t.loadUserQuizzes(e.value)})),b.Mb(14,"i",13),b.Pb(),b.Qb(15,"button",14),b.ac("click",(function(){return t.loadUserQuizzes()})),b.Mb(16,"i",15),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.wc(17,m,10,2,"table",16),b.Pb()}2&e&&(b.yb(13),b.ic("disabled",t.isLoadingData),b.yb(2),b.ic("disabled",t.isLoadingData),b.yb(2),b.ic("ngIf",t.userQuizzes&&t.userQuizzes.length>0))},directives:[r.l,c.a,r.k],pipes:[r.d],styles:[""]}),v),data:{breadcrumb:null}},{path:"detail/:id",component:d,data:{breadcrumb:"Detalle"}},{path:"delete/:id",component:d,data:{breadcrumb:"Eliminar"}}]}],Q=((z=function t(){e(this,t)}).\u0275mod=b.Jb({type:z}),z.\u0275inj=b.Ib({factory:function(e){return new(e||z)},imports:[[u.c.forChild(g)],u.c]}),z),P=((y=function t(){e(this,t)}).\u0275mod=b.Jb({type:y}),y.\u0275inj=b.Ib({factory:function(e){return new(e||y)},providers:[f.a],imports:[[r.b,Q,o.f,o.n,c.b]]}),y)}}])}();