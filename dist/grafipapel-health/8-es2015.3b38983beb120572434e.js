(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{MmdM:function(e,t,s){"use strict";s.r(t),s.d(t,"UserQuizzesModule",(function(){return m}));var i=s("ofXK"),n=s("3Pt+"),r=s("njyG"),o=s("tyNb"),a=s("fXoL");let c=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Fb({type:e,selectors:[["app-user-quizzes-detail"]],decls:2,vars:0,template:function(e,t){1&e&&(a.Qb(0,"p"),a.yc(1,"user-quizzes-detail works!"),a.Pb())},styles:[""]}),e})();var d=s("1kSV"),b=s("oL12"),l=s("vpgt");function u(e,t){if(1&e){const e=a.Rb();a.Qb(0,"tr"),a.Qb(1,"td"),a.yc(2),a.dc(3,"date"),a.Pb(),a.Qb(4,"td"),a.yc(5),a.Pb(),a.Qb(6,"td",18),a.Qb(7,"div",20),a.Qb(8,"button",21),a.ac("click",(function(){a.qc(e);const s=t.$implicit;return a.cc(2).view(s)})),a.Mb(9,"i",22),a.Pb(),a.Qb(10,"button",21),a.ac("click",(function(){a.qc(e);const s=t.$implicit,i=t.index;return a.cc(2).delete(s.id,i)})),a.Mb(11,"i",23),a.Pb(),a.Pb(),a.Pb(),a.Pb()}if(2&e){const e=t.$implicit;a.yb(2),a.zc(a.fc(3,2,e.date,"yyyy-MM-dd hh:mm a")),a.yb(3),a.zc(e.employeeId)}}function p(e,t){if(1&e&&(a.Qb(0,"table",17),a.Qb(1,"thead"),a.Qb(2,"tr"),a.Qb(3,"th",18),a.yc(4,"Fecha"),a.Pb(),a.Qb(5,"th",18),a.yc(6,"Nombre completo"),a.Pb(),a.Mb(7,"th",18),a.Pb(),a.Pb(),a.Qb(8,"tbody"),a.wc(9,u,12,5,"tr",19),a.Pb(),a.Pb()),2&e){const e=a.cc();a.ic("dtOptions",e.dtOptions),a.yb(9),a.ic("ngForOf",e.userQuizzes)}}const h=[{path:"",children:[{path:"",component:(()=>{class e{constructor(e,t,s){this.modalService=e,this.appSettingsService=t,this.userQuizzesService=s,this.userQuizzes=[],this.isLoadingData=!1,this.dtOptions={info:!0,lengthChange:!1,processing:!0,searching:!1,responsive:!0,pagingType:"full_numbers",pageLength:15,dom:'<"html5buttons"B>lftip',buttons:[{extend:"copy",className:"btn-sm"},{extend:"csv",title:"Lista de registros",className:"btn-sm"},{extend:"excel",title:"Lista de registros",className:"btn-sm"},{extend:"pdf",title:"Lista de registros",className:"btn-sm"},{extend:"print",title:"Lista de registros",className:"btn-sm",customize(e){$(e.document.body).addClass("white-bg"),$(e.document.body).css("font-size","10px"),$(e.document.body).find("table").addClass("compact").css("font-size","inherit")}}],language:{emptyTable:"No hay datos disponibles",info:"Mostrando desde _START_ hasta _END_ de _TOTAL_ registros",infoEmpty:"Mostrando desde 0 hasta 0 de 0 registros",loadingRecords:"Cargando...",processing:"Procesando...",paginate:{first:"Ini.",last:"Fin",next:"Sig.",previous:"Ant."}},columnDefs:[{targets:0,responsivePriority:10001},{targets:1,responsivePriority:1},{targets:2,orderable:!1,responsivePriority:2}]}}ngOnInit(){this.loadUserQuizzes()}view(e){const t=this.modalService.open(c);t.result.then(this.onCloseModalForm.bind(this),this.onCloseModalForm.bind(this)),t.componentInstance.employeeSelected=e}delete(e,t){this.userQuizzesService.delete(e).then(()=>{this.userQuizzes.splice(t,1)}).catch(e=>{console.error(e)})}onCloseModalForm(e){if(e===Object(e))if(e.createMode)e.userQuiz.id=e.id,this.userQuizzes.unshift(e.userQuiz);else{const t=this.userQuizzes.findIndex(t=>t.id==e.id);this.userQuizzes[t]=e.userQuiz}}loadUserQuizzes(e){this.isLoadingData=!0;let t=new Date;if(void 0!==e){const s=e.split("-");t=new Date(`${s[1]}/${s[2]}/${s[0]}`)}this.userQuizzesService.getByDate(t).subscribe(e=>{this.userQuizzes=[],e.docs.forEach(e=>{const t=this.userQuizzesService.setUserQuiz(e.id,e.data());this.userQuizzes.push(t)})},e=>{console.error(e)},()=>{this.isLoadingData=!1})}}return e.\u0275fac=function(t){return new(t||e)(a.Lb(d.b),a.Lb(b.a),a.Lb(l.a))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-user-quizzes-list"]],decls:18,vars:3,consts:[[1,"container"],[1,"row","mt-3","mb-3"],[1,"col-lg-4"],[1,"form-group"],["type","date","placeholder","Fecha",1,"form-control"],["searchDatex",""],[1,"col-lg-8"],[1,"input-group"],["type","text","placeholder","Buscar",1,"form-control"],["searchText",""],[1,"input-group-append"],[1,"btn-group"],["type","button","title","Buscar",1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-search"],["type","button","title","Refrescar",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-refresh"],["class","table table-sm row-border table-hover","datatable","","style","width: 100%;",3,"dtOptions",4,"ngIf"],["datatable","",1,"table","table-sm","row-border","table-hover",2,"width","100%",3,"dtOptions"],[1,"text-center"],[4,"ngFor","ngForOf"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-default","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-file-o"],["aria-hidden","true",1,"fa","fa-trash"]],template:function(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div",0),a.Qb(1,"div",1),a.Qb(2,"div",2),a.Qb(3,"div",3),a.Mb(4,"input",4,5),a.Pb(),a.Pb(),a.Qb(6,"div",6),a.Qb(7,"div",3),a.Qb(8,"div",7),a.Mb(9,"input",8,9),a.Qb(11,"span",10),a.Qb(12,"div",11),a.Qb(13,"button",12),a.ac("click",(function(){a.qc(e);const s=a.pc(5);return t.loadUserQuizzes(s.value)})),a.Mb(14,"i",13),a.Pb(),a.Qb(15,"button",14),a.ac("click",(function(){return t.loadUserQuizzes()})),a.Mb(16,"i",15),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.wc(17,p,10,2,"table",16),a.Pb()}2&e&&(a.yb(13),a.ic("disabled",t.isLoadingData),a.yb(2),a.ic("disabled",t.isLoadingData),a.yb(2),a.ic("ngIf",t.userQuizzes&&t.userQuizzes.length>0))},directives:[i.l,r.a,i.k],pipes:[i.d],styles:[""]}),e})(),data:{breadcrumb:null}},{path:"detail/:id",component:c,data:{breadcrumb:"Detalle"}},{path:"delete/:id",component:c,data:{breadcrumb:"Eliminar"}}]}];let f=(()=>{class e{}return e.\u0275mod=a.Jb({type:e}),e.\u0275inj=a.Ib({factory:function(t){return new(t||e)},imports:[[o.c.forChild(h)],o.c]}),e})(),m=(()=>{class e{}return e.\u0275mod=a.Jb({type:e}),e.\u0275inj=a.Ib({factory:function(t){return new(t||e)},providers:[l.a],imports:[[i.b,f,n.f,n.n,r.b]]}),e})()}}]);